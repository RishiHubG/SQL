
exec SaveCustomViewJSONData 
@inputJSON=N'{"viewName":"Testing Filtesr","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":1,"ParentEntityId":40,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"14","colDataType":"textfield","colKey":"contactname","conditionId":"3","items":[],"noOfValuesRequired":1,"value1":"Haz"},{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"55","value1":"","value2":"","items":[],"noOfValuesRequired":1},{"columnId":"-6","colDataType":"datetime","colKey":"Datemodified","conditionId":"56","value1":"","value2":"","items":[],"noOfValuesRequired":2},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation","conditionId":"21","value1":"b","value2":"","items":[],"noOfValuesRequired":1}]},{"columnId":"12","colDataType":"select","colKey":"causalSubCategory","conditionId":"14","value1":"b","value2":"","items":[],"noOfValuesRequired":1},{"columnId":"16","colDataType":"checkbox","colKey":"notify","conditionId":70,"value1":"True","value2":"","items":[]},{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation","conditionId":"12","value1":"b","value2":"","items":[],"noOfValuesRequired":1}],"currentUser":false,"topRecords":"ALL","orderByColumn":"","sortBy":"desc"},"columns":[{"colName":"Component - Weighted Audit Error %","colId":"componentweightedauditerror","isSelected":1,"orderid":1},{"colName":"Component Name","colId":"name","isSelected":1,"orderid":2},{"colName":"Component Weight","colId":"componentweight","isSelected":1,"orderid":3},{"colName":"Overall Weight","colId":"overallweight","isSelected":1,"orderid":4},{"colName":"Test Error","colId":"testerror","isSelected":1,"orderid":5},{"colName":"Total Errors","colId":"totalerrors","isSelected":false,"orderid":6},{"colName":"Total Sample Size","colId":"totalsamplesize","isSelected":1,"orderid":7}]}',
@MethodName=NULL,@UserLoginID=3840

select * from Filterconditions_Master WHERE criteria NOT like '%equals%'

ALTER TABLE Filterconditions_Master ADD OperatorType VARCHAR(50)

SELECT * FROM Filterconditions_Master
SELECT * FROM Filterconditions_Master WHERE FiltertypeId =88

UPDATE Filterconditions_Master SET OperatorType ='Is Empty' WHERE Criteria='Empty'

UPDATE Filterconditions_Master SET OperatorType ='=' WHERE Criteria='Equals'
UPDATE Filterconditions_Master SET OperatorType ='<>' WHERE Criteria='Not Equals'
UPDATE Filterconditions_Master SET OperatorType ='LIKE ''%<COLVALUE>%''' WHERE Criteria='contains'
UPDATE Filterconditions_Master SET OperatorType ='NOT LIKE ''%<COLVALUE>%''' WHERE Criteria='Does Not Contains'
UPDATE Filterconditions_Master SET OperatorType ='LIKE ''%<COLVALUE>''' WHERE Criteria='Starts With'
UPDATE Filterconditions_Master SET OperatorType ='NOT LIKE ''%<COLVALUE>''' WHERE Criteria='Does Not Start With'
UPDATE Filterconditions_Master SET OperatorType ='LIKE ''<COLVALUE>%''' WHERE Criteria='Ends With'
UPDATE Filterconditions_Master SET OperatorType ='NOT LIKE ''<COLVALUE>%''' WHERE Criteria='Does Not End With'
UPDATE Filterconditions_Master SET OperatorType ='ISNULL(<COLNAME>,'''') = ''''' WHERE Criteria='Is Empty'
UPDATE Filterconditions_Master SET OperatorType ='ISNULL(<COLNAME>,'''') <> '''' ' WHERE Criteria='Is Not Empty'
UPDATE Filterconditions_Master SET OperatorType ='<' WHERE Criteria='Less Than'
UPDATE Filterconditions_Master SET OperatorType ='<=' WHERE Criteria='Less Than Or Equal to'
UPDATE Filterconditions_Master SET OperatorType ='>' WHERE Criteria='Greater Than'
UPDATE Filterconditions_Master SET OperatorType ='>=' WHERE Criteria='Greater Than or Equal to'
UPDATE Filterconditions_Master SET OperatorType ='Between' WHERE Criteria='Between'
UPDATE Filterconditions_Master SET OperatorType ='Not Between' WHERE Criteria='Not Between'
UPDATE Filterconditions_Master SET OperatorType ='=1' WHERE Criteria='True'
UPDATE Filterconditions_Master SET OperatorType ='=0' WHERE Criteria='False'
--UPDATE Filterconditions_Master SET OperatorType ='ISNULL(<COLNAME>,'''') = ''''' WHERE Criteria='Empty'
--UPDATE Filterconditions_Master SET OperatorType ='ISNULL(<COLNAME>,'''') <> '''' ' WHERE Criteria='Not Empty'
--UPDATE Filterconditions_Master SET OperatorType ='Equal to Field' WHERE Criteria='ISNULL(<COLNAME>,'''') <> '''' '


exec SaveCustomViewJSONData @inputJSON=N'{"viewName":"All Controls","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":55,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"items":[{"columnId":"7","colDataType":"checkbox","colKey":"addressingregulatoryrequirement","conditionId":"88","value1":"true","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","value1":"External","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","value1":"Internal","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","value1":"People","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"5","colDataType":"select","colKey":"controlstatus","conditionId":"12","value1":"active","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"5","colDataType":"select","colKey":"controlstatus","conditionId":"12","value1":"draft","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","value1":"test","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"18","colDataType":"select","colKey":"controlfrequency","conditionId":"12","value1":"monthly","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0},{"columnId":"9","colDataType":"select","colKey":"controlLevel","conditionId":"12","value1":"businessControl","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0},{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","value1":"abc","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-4","colDataType":"Customtext","colKey":"Role","conditionId":"76","value1":"Owner","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-3","colDataType":"Customtext","colKey":"universe","conditionId":"76","value1":"Library","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-1","colDataType":"Customtext","colKey":"Register","conditionId":"76","value1":"Controls","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"56","value1":"2021-12-01","value2":"2022-02-05","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":1},{"columnId":"-6","colDataType":"datetime","colKey":"Datemodified","conditionId":"54","value1":"2021-12-31","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":1}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0,"value1":"","value2":""}],"currentUser":true,"topRecords":"50","orderByColumn":"-1","sortBy":"desc"},"columns":[{"colName":"Name","colId":"name","isSelected":1,"orderid":1},{"colName":"Reference","colId":"reference","isSelected":1,"orderid":2},{"colName":"Control Category","colId":"controlCategory","isSelected":1,"orderid":3},{"colName":"Control Frequency","colId":"controlfrequency","isSelected":1,"orderid":4},{"colName":"Control Level","colId":"controlLevel","isSelected":1,"orderid":5},{"colName":"Control Type","colId":"controlType","isSelected":1,"orderid":6},{"colName":"Addressing Regulatory Requirement","colId":"addressingregulatoryrequirement","isSelected":1,"orderid":99},{"colName":"Causal Category","colId":"causalctegory","isSelected":1,"orderid":99},{"colName":"Causal sub-category","colId":"causalSubCategory","isSelected":1,"orderid":99},{"colName":"Control Assessment Frequency","colId":"controlAssessmentFrequency","isSelected":1,"orderid":99},{"colName":"Control Closure Reason","colId":"controlclosurereason","isSelected":1,"orderid":99},{"colName":"Control Coordinator (Free Text):","colId":"controlcoordinatorfreetext","isSelected":false,"orderid":99},{"colName":"Control Effectiveness (Owner)","colId":"controlEffectivenessOwner","isSelected":false,"orderid":99},{"colName":"Control Owner (Free Text):","colId":"controlownerfreetext","isSelected":1,"orderid":99},{"colName":"Control Status","colId":"controlstatus","isSelected":1,"orderid":99},{"colName":"Description","colId":"description","isSelected":1,"orderid":99},{"colName":"Level of Automation","colId":"levelOfAutomation","isSelected":1,"orderid":99},{"colName":"Purpose of the control:","colId":"purposeofthecontrol","isSelected":1,"orderid":99}]}',
@MethodName=NULL,@UserLoginID=1143


	DECLARE @inputJSON VARCHAR(MAX)=N'{"viewName":"Testing Filtesr","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":1,"ParentEntityId":40,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"14","colDataType":"textfield","colKey":"contactname","conditionId":"3","items":[],"noOfValuesRequired":1,"value1":"Haz"},{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"55","value1":"","value2":"","items":[],"noOfValuesRequired":1},{"columnId":"-6","colDataType":"datetime","colKey":"Datemodified","conditionId":"56","value1":"","value2":"","items":[],"noOfValuesRequired":2},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation","conditionId":"21","value1":"b","value2":"","items":[],"noOfValuesRequired":1},{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation1","conditionId":"21","value1":"b1","value2":"","items":[],"noOfValuesRequired":1}]},{"columnId":"12","colDataType":"select","colKey":"causalSubCategory","conditionId":"14","value1":"b","value2":"","items":[],"noOfValuesRequired":1},{"columnId":"16","colDataType":"checkbox","colKey":"notify","conditionId":70,"value1":"True","value2":"","items":[]},{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation","conditionId":"12","value1":"b","value2":"","items":[],"noOfValuesRequired":1}],"currentUser":false,"topRecords":"ALL","orderByColumn":"","sortBy":"desc"},"columns":[{"colName":"Component - Weighted Audit Error %","colId":"componentweightedauditerror","isSelected":1,"orderid":1},{"colName":"Component Name","colId":"name","isSelected":1,"orderid":2},{"colName":"Component Weight","colId":"componentweight","isSelected":1,"orderid":3},{"colName":"Overall Weight","colId":"overallweight","isSelected":1,"orderid":4},{"colName":"Test Error","colId":"testerror","isSelected":1,"orderid":5},{"colName":"Total Errors","colId":"totalerrors","isSelected":false,"orderid":6},{"colName":"Total Sample Size","colId":"totalsamplesize","isSelected":1,"orderid":7}]}'
	--SET @inputJSON = '{"viewName":"filterSave","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":1,"ParentEntityId":34,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"57","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":1,"currentDateSelected2":true,"currentDateSelected1":false,"value2":"2021-12-18","value1":"2021-12-12"},{"columnId":"5","colDataType":"select","colKey":"controlstatus","conditionId":"14","value1":"archive","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"19","colDataType":"select","colKey":"controlfrequency","conditionId":"18","value1":"monthly","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"5","value1":"f","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"16","colDataType":"checkbox","colKey":"notify","conditionId":"70","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"4","colDataType":"textfield","colKey":"purposeofthecontrol","conditionId":"3","value1":"f","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation","conditionId":"19","value1":"manual","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"3","colDataType":"textarea","colKey":"description","conditionId":"42","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]}]}]}],"currentUser":false,"topRecords":"ALL","orderByColumn":"","sortBy":"desc"},"columns":[{"colName":"Actual Completion Date","colId":"actualcompletiondate","isSelected":1,"orderid":0},{"colName":"Actual Start Date","colId":"actualstartdate","isSelected":1,"orderid":0},{"colName":"Adhoc Components Approved?","colId":"adhocComponentsApproved","isSelected":1,"orderid":0},{"colName":"Audit Objective","colId":"auditobjective","isSelected":1,"orderid":0},{"colName":"Audit Reference","colId":"auditreference","isSelected":1,"orderid":0},{"colName":"Audit Status","colId":"auditStatus","isSelected":1,"orderid":0},{"colName":"Comments","colId":"comments","isSelected":1,"orderid":0},{"colName":"Comments on Adhoc Components","colId":"commentsOnAdhocComments","isSelected":1,"orderid":0},{"colName":"Date Draft Report Issued","colId":"dateDraftReportIssued","isSelected":1,"orderid":0},{"colName":"Date Final Report Issued","colId":"dateFinalReportIssued","isSelected":1,"orderid":0},{"colName":"Date of Meeting","colId":"dateOfMeeting","isSelected":1,"orderid":0},{"colName":"Executive Summary","colId":"executivesummary","isSelected":1,"orderid":0},{"colName":"Good Practices","colId":"goodPractices","isSelected":1,"orderid":0},{"colName":"High-level description of the overall process","colId":"highleveldescriptionoftheoverallprocess","isSelected":1,"orderid":0},{"colName":"Initial Risk Rating","colId":"initialRiskRating","isSelected":1,"orderid":0},{"colName":"Name of the Manager","colId":"nameOfTheManager","isSelected":1,"orderid":0},{"colName":"Other Audit Objective","colId":"otherauditobjective","isSelected":1,"orderid":0},{"colName":"Period Under Review From","colId":"periodunderreviewfrom","isSelected":1,"orderid":0},{"colName":"Period Under Review To","colId":"periodunderreviewto","isSelected":1,"orderid":0},{"colName":"Planned Completion Date","colId":"plannedcompletiondate","isSelected":1,"orderid":0},{"colName":"Planned Start Date","colId":"plannedstartdate","isSelected":1,"orderid":0},{"colName":"Review Notes","colId":"reviewNotes","isSelected":1,"orderid":0},{"colName":"Scope of Audit","colId":"scopeofaudit","isSelected":1,"orderid":0},{"colName":"Suggested Overall Risk Rating","colId":"suggestedOverallRiskRating","isSelected":1,"orderid":0},{"colName":"Type of Audit","colId":"typeOfAudit","isSelected":1,"orderid":0},{"colName":"Audit Name","colId":"auditname","isSelected":1,"orderid":1}]}';
	SET @inputJSON = '{"viewName":"Check Filter","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":196,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","items":[{"columnId":-1,"colDataType":"","colKey":"","conditionId":-1,"value1":"","value2":"","items":[]}],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"19","colDataType":"select","colKey":"controlfrequency","conditionId":"13","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"9","colDataType":"select","colKey":"controlLevel","conditionId":"14","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"8","colDataType":"select","colKey":"controlType","conditionId":"12","value1":"policyControl","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"22","colDataType":"select","colKey":"controlEffectiveness","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"14","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"22","colDataType":"select","colKey":"controlEffectiveness","conditionId":"12","value1":"ineffective","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"3","colDataType":"textarea","colKey":"description","conditionId":"36","value1":"bb","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"19","colDataType":"select","colKey":"controlfrequency","conditionId":"12","value1":"weekly","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"10","colDataType":"select","colKey":"controlCategory","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]}]}]},{"columnId":"16","colDataType":"checkbox","colKey":"notify","conditionId":"88","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"56","value1":"2021-12-01","value2":"2021-12-16","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":1},{"columnId":"-6","colDataType":"datetime","colKey":"Datemodified","conditionId":"54","value1":"2021-12-04","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":1},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"14","colDataType":"textfield","colKey":"contactname","conditionId":"3","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"14","colDataType":"textfield","colKey":"contactname","conditionId":"4","value1":"b","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"4","colDataType":"textfield","colKey":"purposeofthecontrol","conditionId":"1","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"26","colDataType":"textfield","colKey":"loggedinusergroup","conditionId":"1","value1":"b","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"15","colDataType":"textfield","colKey":"contactrole","conditionId":"2","value1":"c","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]}]},{"columnId":"2","colDataType":"textfield","colKey":"reference","conditionId":"3","value1":"1","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"18","colDataType":"select","colKey":"controlEffectivenessOwner","conditionId":"21","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"7","colDataType":"checkbox","colKey":"addressingregulatoryrequirement","conditionId":"88","value1":"t","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"currentUser":false,"topRecords":"ALL","orderByColumn":"-2","sortBy":"desc"},"columns":[]}';
	--SET @inputJSON = '{"viewName":"Filterview2","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":196,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":"-100","filters":[{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","items":[{"columnId":-1,"colDataType":"","colKey":"","conditionId":-1,"value1":"","value2":"","items":[]}],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"19","colDataType":"select","colKey":"controlfrequency","conditionId":"13","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"9","colDataType":"select","colKey":"controlLevel","conditionId":"14","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"8","colDataType":"select","colKey":"controlType","conditionId":"12","value1":"policyControl","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"22","colDataType":"select","colKey":"controlEffectiveness","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"14","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"22","colDataType":"select","colKey":"controlEffectiveness","conditionId":"12","value1":"ineffective","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"3","colDataType":"textarea","colKey":"description","conditionId":"36","value1":"bb","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"19","colDataType":"select","colKey":"controlfrequency","conditionId":"12","value1":"weekly","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"10","colDataType":"select","colKey":"controlCategory","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]}]}]},{"columnId":"16","colDataType":"checkbox","colKey":"notify","conditionId":"88","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"56","value1":"2021-12-01","value2":"2021-12-16","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":1},{"columnId":"-6","colDataType":"datetime","colKey":"Datemodified","conditionId":"54","value1":"2021-12-04","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":1},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"14","colDataType":"textfield","colKey":"contactname","conditionId":"3","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"14","colDataType":"textfield","colKey":"contactname","conditionId":"4","value1":"b","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"4","colDataType":"textfield","colKey":"purposeofthecontrol","conditionId":"1","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"26","colDataType":"textfield","colKey":"loggedinusergroup","conditionId":"1","value1":"b","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"15","colDataType":"textfield","colKey":"contactrole","conditionId":"2","value1":"c","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]},{"columnId":"3","colDataType":"textarea","colKey":"description","conditionId":"42","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]},{"columnId":"2","colDataType":"textfield","colKey":"reference","conditionId":"3","value1":"1","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"18","colDataType":"select","colKey":"controlEffectivenessOwner","conditionId":"21","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"7","colDataType":"checkbox","colKey":"addressingregulatoryrequirement","conditionId":"88","value1":"t","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"currentUser":false,"topRecords":"ALL","orderByColumn":"-2","sortBy":"desc"},"columns":[]}',@MethodName=NULL,@UserLoginID=3866exec SaveCustomViewJSONData @inputJSON=N'{"viewName":"Filterview2","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":196,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":"-100","filters":[{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","items":[{"columnId":-1,"colDataType":"","colKey":"","conditionId":-1,"value1":"","value2":"","items":[]}],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"19","colDataType":"select","colKey":"controlfrequency","conditionId":"13","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"9","colDataType":"select","colKey":"controlLevel","conditionId":"14","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"8","colDataType":"select","colKey":"controlType","conditionId":"12","value1":"policyControl","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"22","colDataType":"select","colKey":"controlEffectiveness","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"14","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"22","colDataType":"select","colKey":"controlEffectiveness","conditionId":"12","value1":"ineffective","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"3","colDataType":"textarea","colKey":"description","conditionId":"36","value1":"bb","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"19","colDataType":"select","colKey":"controlfrequency","conditionId":"12","value1":"weekly","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"10","colDataType":"select","colKey":"controlCategory","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]}]}]},{"columnId":"16","colDataType":"checkbox","colKey":"notify","conditionId":"88","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"56","value1":"2021-12-01","value2":"2021-12-16","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":1},{"columnId":"-6","colDataType":"datetime","colKey":"Datemodified","conditionId":"54","value1":"2021-12-04","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":1},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"14","colDataType":"textfield","colKey":"contactname","conditionId":"3","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"14","colDataType":"textfield","colKey":"contactname","conditionId":"4","value1":"b","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"13","colDataType":"select","colKey":"levelOfAutomation","conditionId":"12","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-1,"value1":"","value2":"","items":[{"columnId":"4","colDataType":"textfield","colKey":"purposeofthecontrol","conditionId":"1","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"26","colDataType":"textfield","colKey":"loggedinusergroup","conditionId":"1","value1":"b","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"15","colDataType":"textfield","colKey":"contactrole","conditionId":"2","value1":"c","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]},{"columnId":"3","colDataType":"textarea","colKey":"description","conditionId":"42","value1":"a","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}]},{"columnId":"2","colDataType":"textfield","colKey":"reference","conditionId":"3","value1":"1","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"18","colDataType":"select","colKey":"controlEffectivenessOwner","conditionId":"21","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"7","colDataType":"checkbox","colKey":"addressingregulatoryrequirement","conditionId":"88","value1":"t","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"currentUser":false,"topRecords":"ALL","orderByColumn":"-2","sortBy":"desc"},"columns":[]}'
	SET @inputJSON = '{"EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":1,"ParentEntityId":38,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":"-100","filters":[{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"items":[{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","value1":"abc","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"3","colDataType":"number","colKey":"componentweight","conditionId":"64","value1":"10","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"8","colDataType":"select","colKey":"controlsOperatingEffectively","conditionId":"12","value1":"No","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"5","colDataType":"number","colKey":"overallweight","conditionId":"62","value1":"5","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"7","colDataType":"number","colKey":"testerror","conditionId":"63","value1":"0","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"13","colDataType":"number","colKey":"totalsamplesize","conditionId":"66","value1":"1","value2":"100","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0,"value1":"","value2":""},{"columnId":"21","colDataType":"textarea","colKey":"objective","conditionId":"36","value1":"under","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"10","colDataType":"textarea","colKey":"objective","conditionId":"36","value1":"New","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"21","colDataType":"textarea","colKey":"objective","conditionId":"38","value1":"Billing","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"5","value1":"Errors","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"54","value1":"2021-11-30","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":1},{"columnId":"-6","colDataType":"datetime","colKey":"Datemodified","conditionId":"56","value1":"2021-11-29","value2":"2021-12-15","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":1},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"7","colDataType":"number","colKey":"testerror","conditionId":"64","value1":"1","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"4","colDataType":"number","colKey":"totalerrors","conditionId":"64","value1":"10","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"2","colDataType":"number","colKey":"totalsamplesize","conditionId":"62","value1":"100","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"12","colDataType":"textfield","colKey":"name","conditionId":"4","value1":"rrr","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"2","colDataType":"number","colKey":"totalsamplesize","conditionId":"65","value1":"50","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"7","colDataType":"number","colKey":"testerror","conditionId":"67","value1":"8","value2":"30","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0}],"currentUser":true,"topRecords":"150","orderByColumn":"1","sortBy":"desc"},"columns":[{"colName":"Component - Weighted Audit Error %","colId":"componentweightedauditerror","isSelected":1,"orderid":0},{"colName":"Component Weight","colId":"componentweight","isSelected":1,"orderid":0},{"colName":"Controls Operating Effectively?","colId":"controlsOperatingEffectively","isSelected":1,"orderid":0},{"colName":"Objective","colId":"objective","isSelected":1,"orderid":0},{"colName":"Overall Weight","colId":"overallweight","isSelected":1,"orderid":0},{"colName":"Risk Assessment","colId":"riskAssessment","isSelected":1,"orderid":0},{"colName":"Sub Component Name","colId":"name","isSelected":1,"orderid":0},{"colName":"Test Error","colId":"testerror","isSelected":1,"orderid":0},{"colName":"Total Errors","colId":"totalerrors","isSelected":1,"orderid":0},{"colName":"Total Sample Size","colId":"totalsamplesize","isSelected":1,"orderid":0}]}'
	SET @inputJSON = '{"viewName":"Filter View - 1","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":1,"ParentEntityId":1,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"items":[{"columnId":"-1","colDataType":"Customtext","colKey":"Register","conditionId":"76","value1":"Basic Conditions Of Employment Act No. 75 Of 1997","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-1","colDataType":"Customtext","colKey":"Register","conditionId":"76","value1":"Carbon Tax Act No. 15 of 2019","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-1","colDataType":"Customtext","colKey":"Register","conditionId":"76","value1":"Explosives Act No. 26 of 1956","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0,"value1":"","value2":""},{"columnId":"1","colDataType":"textfield","colKey":"chapterid","conditionId":"1","value1":"0000","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"9","colDataType":"textfield","colKey":"name","conditionId":"3","value1":"Carbon Tax Act","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"54","value1":"2021-12-01","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":1},{"columnId":"18","colDataType":"datetime","colKey":"lastModifiedDate","conditionId":"78","value1":"60","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":1,"currentDateRequired":null}],"currentUser":false,"topRecords":"100","orderByColumn":"9","sortBy":"asc"},"columns":[{"colName":"Chapter Name","colId":"chaptername","isSelected":1,"orderid":1},{"colName":"Chapter ID","colId":"chapterid","isSelected":1,"orderid":2},{"colName":"Item ID","colId":"itemid","isSelected":1,"orderid":3},{"colName":"Item Name","colId":"name","isSelected":1,"orderid":4},{"colName":"Item Number","colId":"itemnumber","isSelected":1,"orderid":5},{"colName":"Item Type","colId":"type","isSelected":1,"orderid":6},{"colName":"Part ID","colId":"partid","isSelected":1,"orderid":7},{"colName":"Part Name","colId":"partname","isSelected":1,"orderid":8},{"colName":"Publish Status","colId":"publishStatus","isSelected":1,"orderid":9},{"colName":"Tags","colId":"tags","isSelected":1,"orderid":10},{"colName":"Change Summary","colId":"changeSummary","isSelected":1,"orderid":101},{"colName":"Guidelines","colId":"guidelines","isSelected":1,"orderid":102},{"colName":"Item URL","colId":"itemUrl","isSelected":1,"orderid":103},{"colName":"Last Modified Date","colId":"lastModifiedDate","isSelected":1,"orderid":104},{"colName":"Plain Language","colId":"plainLanguage","isSelected":1,"orderid":105},{"colName":"Regulatory Requirement","colId":"regulatoryRequirement","isSelected":1,"orderid":106},{"colName":"Related Checklist Questions","colId":"relatedChecklistQuestions","isSelected":1,"orderid":107},{"colName":"Section Heading","colId":"sectionHeading","isSelected":1,"orderid":108}]}'
	SET @inputJSON = '{"viewName":"All Controls","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":55,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"items":[{"columnId":"7","colDataType":"checkbox","colKey":"addressingregulatoryrequirement","conditionId":"88","value1":"true","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","value1":"External","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","value1":"Internal","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"11","colDataType":"select","colKey":"causalctegory","conditionId":"12","value1":"People","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0},{"columnId":"-100","colDataType":"any","colKey":"any","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"5","colDataType":"select","colKey":"controlstatus","conditionId":"12","value1":"active","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"5","colDataType":"select","colKey":"controlstatus","conditionId":"12","value1":"draft","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-200","colDataType":"all","colKey":"all","conditionId":-99,"value1":"","value2":"","items":[{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","value1":"test","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"18","colDataType":"select","colKey":"controlfrequency","conditionId":"12","value1":"monthly","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0},{"columnId":"9","colDataType":"select","colKey":"controlLevel","conditionId":"12","value1":"businessControl","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0},{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","value1":"abc","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-4","colDataType":"Customtext","colKey":"Role","conditionId":"76","value1":"Owner","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-3","colDataType":"Customtext","colKey":"universe","conditionId":"76","value1":"Library","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-1","colDataType":"Customtext","colKey":"Register","conditionId":"76","value1":"Controls","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null},{"columnId":"-5","colDataType":"datetime","colKey":"DateCreated","conditionId":"56","value1":"2021-12-01","value2":"2022-02-05","items":[],"noOfValuesRequired":2,"daysRequired":null,"currentDateRequired":1},{"columnId":"-6","colDataType":"datetime","colKey":"Datemodified","conditionId":"54","value1":"2021-12-31","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":1}],"noOfValuesRequired":0,"daysRequired":0,"currentDateRequired":0,"value1":"","value2":""}],"currentUser":true,"topRecords":"50","orderByColumn":"-1","sortBy":"desc"},"columns":[{"colName":"Name","colId":"name","isSelected":1,"orderid":1},{"colName":"Reference","colId":"reference","isSelected":1,"orderid":2},{"colName":"Control Category","colId":"controlCategory","isSelected":1,"orderid":3},{"colName":"Control Frequency","colId":"controlfrequency","isSelected":1,"orderid":4},{"colName":"Control Level","colId":"controlLevel","isSelected":1,"orderid":5},{"colName":"Control Type","colId":"controlType","isSelected":1,"orderid":6},{"colName":"Addressing Regulatory Requirement","colId":"addressingregulatoryrequirement","isSelected":1,"orderid":99},{"colName":"Causal Category","colId":"causalctegory","isSelected":1,"orderid":99},{"colName":"Causal sub-category","colId":"causalSubCategory","isSelected":1,"orderid":99},{"colName":"Control Assessment Frequency","colId":"controlAssessmentFrequency","isSelected":1,"orderid":99},{"colName":"Control Closure Reason","colId":"controlclosurereason","isSelected":1,"orderid":99},{"colName":"Control Coordinator (Free Text):","colId":"controlcoordinatorfreetext","isSelected":false,"orderid":99},{"colName":"Control Effectiveness (Owner)","colId":"controlEffectivenessOwner","isSelected":false,"orderid":99},{"colName":"Control Owner (Free Text):","colId":"controlownerfreetext","isSelected":1,"orderid":99},{"colName":"Control Status","colId":"controlstatus","isSelected":1,"orderid":99},{"colName":"Description","colId":"description","isSelected":1,"orderid":99},{"colName":"Level of Automation","colId":"levelOfAutomation","isSelected":1,"orderid":99},{"colName":"Purpose of the control:","colId":"purposeofthecontrol","isSelected":1,"orderid":99}]}'
	EXEC dbo.SaveFilterExpression @inputJSON = @inputJSON,@MethodName=NULL,@UserLoginID=1143,@LogRequest=1

SELECT * FROM dbo.FilterExpression

TRUNCATE TABLE FilterExpression


SELECT * FROM dbo.Controls_data WHERE  (addressingregulatoryrequirement = 'true'   OR name LIKE '%abc%'    OR EXISTS (SELECT 1 FROM dbo.RoleType RT INNER JOIN dbo.ContactInst CI ON CI.RoleTypeID = RT.RoleTypeID WHERE RT.name LIKE '%Owner%')    OR EXISTS (SELECT 1 FROM dbo.Universe WHERE Name LIKE '%Library%')    OR EXISTS (SELECT 1 FROM dbo.Registers WHERE Name LIKE '%Controls%')    OR DateCreated Between '2021-12-01' AND '2022-02-05' OR Datemodified > '2021-12-31'  ) AND (causalctegory = 'External'   OR causalctegory = 'Internal'   OR causalctegory = 'People'  ) AND ((controlstatus = 'active'   OR controlstatus = 'draft'   OR controlLevel = 'businessControl'  )  OR ( name LIKE '%test%'    AND controlfrequency = 'monthly'  ) )

exec SaveCustomViewJSONData 
@inputJSON=N'{"viewName":"check","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":3,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null,"value1":"journal","value2":""},{"columnId":"27","colDataType":"textarea","colKey":"goodPractices","conditionId":"43","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"currentUser":true,"topRecords":"50","orderByColumn":"1","sortBy":"asc"},"columns":[{"colName":"Type of Audit","colId":"typeOfAudit","isSelected":1,"orderid":0},{"colName":"Audit Objectives","colId":"auditOjectives","isSelected":1,"orderid":1},{"colName":"Library","colId":"library","isSelected":1,"orderid":2},{"colName":"Actual Completion Date","colId":"actualcompletiondate","isSelected":0,"orderid":3},{"colName":"Actual Start Date","colId":"actualstartdate","isSelected":0,"orderid":4},{"colName":"Additional Procedure","colId":"systemsecurityadditionalprocedures","isSelected":0,"orderid":5},{"colName":"additionalheadofficeprocedures","colId":"additionalheadofficeprocedures","isSelected":0,"orderid":6},{"colName":"Audit Name","colId":"name","isSelected":true,"orderid":7},{"colName":"Audit Status","colId":"auditStatus","isSelected":0,"orderid":8},{"colName":"Business Unit Manager","colId":"select","isSelected":0,"orderid":9},{"colName":"Components List","colId":"entityTab","isSelected":0,"orderid":10},{"colName":"Date Draft Report Issued","colId":"dateDraftReportIssued","isSelected":0,"orderid":11},{"colName":"Date of Meeting","colId":"dateOfMeeting","isSelected":0,"orderid":12},{"colName":"Dates Comments Required by","colId":"dateCommentsRequiredBy","isSelected":0,"orderid":13},{"colName":"Entity Link Grid","colId":"entityLinkGrid","isSelected":0,"orderid":14},{"colName":"Executive Summary","colId":"executivesummary","isSelected":0,"orderid":15},{"colName":"Good Practices","colId":"goodPractices","isSelected":0,"orderid":16},{"colName":"Head Office Preparation","colId":"headOfficePreparation","isSelected":0,"orderid":17},{"colName":"Initial Risk Rating","colId":"initialRiskRating","isSelected":0,"orderid":18},{"colName":"Other Objective","colId":"otherObjective","isSelected":0,"orderid":19},{"colName":"Period Under Review From","colId":"periodunderreviewfrom","isSelected":0,"orderid":20},{"colName":"Period Under Review To","colId":"periodunderreviewto","isSelected":0,"orderid":21},{"colName":"Planning Cheklist","colId":"PlanningChecklist","isSelected":0,"orderid":22},{"colName":"Query Grid","colId":"queryGrid","isSelected":0,"orderid":23},{"colName":"Questions to Manager","colId":"questionsToManager","isSelected":0,"orderid":24},{"colName":"Review Notes","colId":"reviewNotes1","isSelected":0,"orderid":25},{"colName":"Suggested Overall Risk Rating","colId":"suggestedOverallRiskRating","isSelected":0,"orderid":26},{"colName":"System Security","colId":"systemsecurity","isSelected":0,"orderid":27},{"colName":"Tree Based Mapper","colId":"treeBasedMapper","isSelected":0,"orderid":28},{"colName":"WorkflowNumber","colId":"workflownumber","isSelected":0,"orderid":29}]}',
@MethodName=NULL,@UserLoginID=2740

--WITH EMPTY TOP & ORDER BY
exec SaveCustomViewJSONData 
@inputJSON=N'{"viewName":"check","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":3,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null,"value1":"journal","value2":""},{"columnId":"27","colDataType":"textarea","colKey":"goodPractices","conditionId":"43","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"currentUser":true,"topRecords":"","orderByColumn":"","sortBy":"asc"},"columns":[{"colName":"Type of Audit","colId":"typeOfAudit","isSelected":1,"orderid":0},{"colName":"Audit Objectives","colId":"auditOjectives","isSelected":1,"orderid":1},{"colName":"Library","colId":"library","isSelected":1,"orderid":2},{"colName":"Actual Completion Date","colId":"actualcompletiondate","isSelected":0,"orderid":3},{"colName":"Actual Start Date","colId":"actualstartdate","isSelected":0,"orderid":4},{"colName":"Additional Procedure","colId":"systemsecurityadditionalprocedures","isSelected":0,"orderid":5},{"colName":"additionalheadofficeprocedures","colId":"additionalheadofficeprocedures","isSelected":0,"orderid":6},{"colName":"Audit Name","colId":"name","isSelected":true,"orderid":7},{"colName":"Audit Status","colId":"auditStatus","isSelected":0,"orderid":8},{"colName":"Business Unit Manager","colId":"select","isSelected":0,"orderid":9},{"colName":"Components List","colId":"entityTab","isSelected":0,"orderid":10},{"colName":"Date Draft Report Issued","colId":"dateDraftReportIssued","isSelected":0,"orderid":11},{"colName":"Date of Meeting","colId":"dateOfMeeting","isSelected":0,"orderid":12},{"colName":"Dates Comments Required by","colId":"dateCommentsRequiredBy","isSelected":0,"orderid":13},{"colName":"Entity Link Grid","colId":"entityLinkGrid","isSelected":0,"orderid":14},{"colName":"Executive Summary","colId":"executivesummary","isSelected":0,"orderid":15},{"colName":"Good Practices","colId":"goodPractices","isSelected":0,"orderid":16},{"colName":"Head Office Preparation","colId":"headOfficePreparation","isSelected":0,"orderid":17},{"colName":"Initial Risk Rating","colId":"initialRiskRating","isSelected":0,"orderid":18},{"colName":"Other Objective","colId":"otherObjective","isSelected":0,"orderid":19},{"colName":"Period Under Review From","colId":"periodunderreviewfrom","isSelected":0,"orderid":20},{"colName":"Period Under Review To","colId":"periodunderreviewto","isSelected":0,"orderid":21},{"colName":"Planning Cheklist","colId":"PlanningChecklist","isSelected":0,"orderid":22},{"colName":"Query Grid","colId":"queryGrid","isSelected":0,"orderid":23},{"colName":"Questions to Manager","colId":"questionsToManager","isSelected":0,"orderid":24},{"colName":"Review Notes","colId":"reviewNotes1","isSelected":0,"orderid":25},{"colName":"Suggested Overall Risk Rating","colId":"suggestedOverallRiskRating","isSelected":0,"orderid":26},{"colName":"System Security","colId":"systemsecurity","isSelected":0,"orderid":27},{"colName":"Tree Based Mapper","colId":"treeBasedMapper","isSelected":0,"orderid":28},{"colName":"WorkflowNumber","colId":"workflownumber","isSelected":0,"orderid":29}]}',
@MethodName=NULL,@UserLoginID=2740

--WITH ONLY TOP RECORDS
exec SaveCustomViewJSONData 
@inputJSON=N'{"viewName":"check","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":3,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null,"value1":"journal","value2":""},{"columnId":"27","colDataType":"textarea","colKey":"goodPractices","conditionId":"43","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"currentUser":true,"topRecords":"100","orderByColumn":"","sortBy":"asc"},"columns":[{"colName":"Type of Audit","colId":"typeOfAudit","isSelected":1,"orderid":0},{"colName":"Audit Objectives","colId":"auditOjectives","isSelected":1,"orderid":1},{"colName":"Library","colId":"library","isSelected":1,"orderid":2},{"colName":"Actual Completion Date","colId":"actualcompletiondate","isSelected":0,"orderid":3},{"colName":"Actual Start Date","colId":"actualstartdate","isSelected":0,"orderid":4},{"colName":"Additional Procedure","colId":"systemsecurityadditionalprocedures","isSelected":0,"orderid":5},{"colName":"additionalheadofficeprocedures","colId":"additionalheadofficeprocedures","isSelected":0,"orderid":6},{"colName":"Audit Name","colId":"name","isSelected":true,"orderid":7},{"colName":"Audit Status","colId":"auditStatus","isSelected":0,"orderid":8},{"colName":"Business Unit Manager","colId":"select","isSelected":0,"orderid":9},{"colName":"Components List","colId":"entityTab","isSelected":0,"orderid":10},{"colName":"Date Draft Report Issued","colId":"dateDraftReportIssued","isSelected":0,"orderid":11},{"colName":"Date of Meeting","colId":"dateOfMeeting","isSelected":0,"orderid":12},{"colName":"Dates Comments Required by","colId":"dateCommentsRequiredBy","isSelected":0,"orderid":13},{"colName":"Entity Link Grid","colId":"entityLinkGrid","isSelected":0,"orderid":14},{"colName":"Executive Summary","colId":"executivesummary","isSelected":0,"orderid":15},{"colName":"Good Practices","colId":"goodPractices","isSelected":0,"orderid":16},{"colName":"Head Office Preparation","colId":"headOfficePreparation","isSelected":0,"orderid":17},{"colName":"Initial Risk Rating","colId":"initialRiskRating","isSelected":0,"orderid":18},{"colName":"Other Objective","colId":"otherObjective","isSelected":0,"orderid":19},{"colName":"Period Under Review From","colId":"periodunderreviewfrom","isSelected":0,"orderid":20},{"colName":"Period Under Review To","colId":"periodunderreviewto","isSelected":0,"orderid":21},{"colName":"Planning Cheklist","colId":"PlanningChecklist","isSelected":0,"orderid":22},{"colName":"Query Grid","colId":"queryGrid","isSelected":0,"orderid":23},{"colName":"Questions to Manager","colId":"questionsToManager","isSelected":0,"orderid":24},{"colName":"Review Notes","colId":"reviewNotes1","isSelected":0,"orderid":25},{"colName":"Suggested Overall Risk Rating","colId":"suggestedOverallRiskRating","isSelected":0,"orderid":26},{"colName":"System Security","colId":"systemsecurity","isSelected":0,"orderid":27},{"colName":"Tree Based Mapper","colId":"treeBasedMapper","isSelected":0,"orderid":28},{"colName":"WorkflowNumber","colId":"workflownumber","isSelected":0,"orderid":29}]}',
@MethodName=NULL,@UserLoginID=2740


--WITH ONLY TOP RECORDS & order by & empty sortby
exec SaveCustomViewJSONData 
@inputJSON=N'{"viewName":"check","EntityTypeId":9,"EntityId":-1,"ParentEntityTypeId":3,"ParentEntityId":3,"viewId":-1,"viewType":1,"filtersData":{"matchCondition":-200,"filters":[{"columnId":"1","colDataType":"textfield","colKey":"name","conditionId":"3","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null,"value1":"journal","value2":""},{"columnId":"27","colDataType":"textarea","colKey":"goodPractices","conditionId":"43","value1":"","value2":"","items":[],"noOfValuesRequired":1,"daysRequired":null,"currentDateRequired":null}],"currentUser":true,"topRecords":"100","orderByColumn":"2","sortBy":""},"columns":[{"colName":"Type of Audit","colId":"typeOfAudit","isSelected":1,"orderid":0},{"colName":"Audit Objectives","colId":"auditOjectives","isSelected":1,"orderid":1},{"colName":"Library","colId":"library","isSelected":1,"orderid":2},{"colName":"Actual Completion Date","colId":"actualcompletiondate","isSelected":0,"orderid":3},{"colName":"Actual Start Date","colId":"actualstartdate","isSelected":0,"orderid":4},{"colName":"Additional Procedure","colId":"systemsecurityadditionalprocedures","isSelected":0,"orderid":5},{"colName":"additionalheadofficeprocedures","colId":"additionalheadofficeprocedures","isSelected":0,"orderid":6},{"colName":"Audit Name","colId":"name","isSelected":true,"orderid":7},{"colName":"Audit Status","colId":"auditStatus","isSelected":0,"orderid":8},{"colName":"Business Unit Manager","colId":"select","isSelected":0,"orderid":9},{"colName":"Components List","colId":"entityTab","isSelected":0,"orderid":10},{"colName":"Date Draft Report Issued","colId":"dateDraftReportIssued","isSelected":0,"orderid":11},{"colName":"Date of Meeting","colId":"dateOfMeeting","isSelected":0,"orderid":12},{"colName":"Dates Comments Required by","colId":"dateCommentsRequiredBy","isSelected":0,"orderid":13},{"colName":"Entity Link Grid","colId":"entityLinkGrid","isSelected":0,"orderid":14},{"colName":"Executive Summary","colId":"executivesummary","isSelected":0,"orderid":15},{"colName":"Good Practices","colId":"goodPractices","isSelected":0,"orderid":16},{"colName":"Head Office Preparation","colId":"headOfficePreparation","isSelected":0,"orderid":17},{"colName":"Initial Risk Rating","colId":"initialRiskRating","isSelected":0,"orderid":18},{"colName":"Other Objective","colId":"otherObjective","isSelected":0,"orderid":19},{"colName":"Period Under Review From","colId":"periodunderreviewfrom","isSelected":0,"orderid":20},{"colName":"Period Under Review To","colId":"periodunderreviewto","isSelected":0,"orderid":21},{"colName":"Planning Cheklist","colId":"PlanningChecklist","isSelected":0,"orderid":22},{"colName":"Query Grid","colId":"queryGrid","isSelected":0,"orderid":23},{"colName":"Questions to Manager","colId":"questionsToManager","isSelected":0,"orderid":24},{"colName":"Review Notes","colId":"reviewNotes1","isSelected":0,"orderid":25},{"colName":"Suggested Overall Risk Rating","colId":"suggestedOverallRiskRating","isSelected":0,"orderid":26},{"colName":"System Security","colId":"systemsecurity","isSelected":0,"orderid":27},{"colName":"Tree Based Mapper","colId":"treeBasedMapper","isSelected":0,"orderid":28},{"colName":"WorkflowNumber","colId":"workflownumber","isSelected":0,"orderid":29}]}',
@MethodName=NULL,@UserLoginID=2740

SELECT TOP 100 * FROM dbo.AuditFramework_data WHERE RegisterId =  3 AND  ( ISNULL(goodPractices,'') <> ''    ) AND (name LIKE '%journal%'   ) ORDER BY [library] ASC;